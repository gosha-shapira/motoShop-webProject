@model IEnumerable<motoShop.Models.Clothing>
    <head>
        <link rel="stylesheet" href="~/css/Dima.css" />
    </head>
    @{
        ViewData["Title"] = "CardView";
    }
    <body class="bodystyle">
        <h1>Clothing</h1>
        <a asp-action="Index">Switch to Index View</a>

        <p>
            @if (User.IsInRole("Admin") || User.IsInRole("Employee"))
            {
                <a asp-action="Create">Create New</a>
            }
        </p>
        <div style="display:inline-block">
            @for (int i = 0, count = 1; i < Model.Count(); i++, count++)
            {

                <div class="card" style="display:inline-block">
                    @{
                        string img = Convert.ToBase64String(Model.ElementAt(i).Photos.First().Image);
                    }
                    <img src="data:image/png;base64,@img" alt="@Model.ElementAt(i).Manufacturer" object-fit:scale-down width="298" height="198">
                    <h4>@Html.DisplayFor(modelItem => Model.ElementAt(i).Description)</h4>
                    <p class="price">@Html.DisplayFor(modelItem => Model.ElementAt(i).Price)</p>
                    <p>
                        @if (User.IsInRole("Admin") || User.IsInRole("Employee"))
                        {
                            <button asp-action="Edit" asp-route-id="@Model.ElementAt(i).Id">Edit</button>
                        }
                        <button asp-action="Details" asp-route-id="@Model.ElementAt(i).Id">Details</button>
                        @if (User.IsInRole("Admin") || User.IsInRole("Employee"))
                        {
                            <button asp-action="Delete" asp-route-id="@Model.ElementAt(i).Id">Delete</button>
                        }
                        <button asp-controller="ShoppingCarts" asp-action="AddToShoppingCart" asp-route-id="@Model.ElementAt(i).Id">Add to Cart</button>
                    </p>
                </div>
                if (count == 4)
                {
                    @:<br />
                    count = 0;
                }


            }
        </div>
    </body>